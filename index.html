
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="authentication">Authentication</a>
          </li>
          <li>
            <a href="#answers" class="toc-h1 toc-link" data-title="answers">Answers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-answers" class="toc-h2 toc-link" data-title="get-all-answers">Get All Answers</a>
                  </li>
                  <li>
                    <a href="#get-all-answers-legacy" class="toc-h2 toc-link" data-title="get-all-answers-legacy">Get All Answers (Legacy)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#locations" class="toc-h1 toc-link" data-title="locations">Locations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-locations" class="toc-h2 toc-link" data-title="get-all-locations">Get All Locations</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#lists" class="toc-h1 toc-link" data-title="lists">Lists</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-list-elements" class="toc-h2 toc-link" data-title="get-all-list-elements">Get All List elements</a>
                  </li>
                  <li>
                    <a href="#get-an-element-of-the-list" class="toc-h2 toc-link" data-title="get-an-element-of-the-list">Get an element of the list</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#notifications" class="toc-h1 toc-link" data-title="notifications">Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-last-notifications" class="toc-h2 toc-link" data-title="list-last-notifications">List Last notifications</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#configuration" class="toc-h2 toc-link" data-title="configuration">Configuration</a>
                  </li>
                  <li>
                    <a href="#output" class="toc-h2 toc-link" data-title="output">Output</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.mydatascope.com/webhooks'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the DataScope API! You can use our API to access DataScope API endpoints, which can get information collected from the DataScope platform and App.</p>

<p>We have language bindings in Shell and Ruby! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication'>Authentication</h1>
<p>DataScope uses API keys to allow access to the API. You can register a new DataScope API key at our <a href="https://www.mydatascope.com/webhooks">developer portal</a>.</p>

<p><img src="https://i.imgur.com/M4awUbe.jpg" title="Logo Title Text 1" alt="alt text" /></p>

<p>DataScope expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: b1cd93mfls9fdmfkadn23</code></p>

<aside class="notice">
You must replace <code>b1cd93mfls9fdmfkadn23</code> with your personal API key.
</aside>
<h1 id='answers'>Answers</h1><h2 id='get-all-answers'>Get All Answers</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.mydatascope.com/api/external/v2/answers'</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="n">url</span><span class="p">,</span> <span class="p">{</span>
<span class="ss">:Authorization</span> <span class="o">=&gt;</span> <span class="s1">'b1cd93mfls9fdmfkadn23'</span><span class="p">,</span>
 <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{}</span>
<span class="p">}</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.mydatascope.com/api/external/v2/answers"</span>
  -H <span class="s2">"Authorization: b1cd93mfls9fdmfkadn23"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this, you can check the description of each parameter below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">  
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"form_name"</span><span class="p">:</span><span class="s2">"Example Form"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_state"</span><span class="p">:</span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_name"</span><span class="p">:</span><span class="s2">"Example User"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_identifier"</span><span class="p">:</span><span class="s2">"user@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"2342"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_id"</span><span class="p">:</span><span class="mi">432</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-04-16T16:52:05.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_answer_id"</span><span class="p">:</span><span class="mi">257189</span><span class="p">,</span><span class="w">
      </span><span class="s2">"latitude"</span><span class="p">:</span><span class="mf">-33.398803</span><span class="p">,</span><span class="w">
      </span><span class="s2">"longitude"</span><span class="p">:</span><span class="mf">-70.559834</span><span class="p">,</span><span class="w">
      </span><span class="s2">"[question_name1]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[question_value1]"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"[question_name2]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[question_value2]"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"[question_name3]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[question_value3]"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>This endpoint retrieves last answers (Limit 200)</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.mydatascope.com/api/external/v2/answers</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>form_id</td>
<td>blank</td>
<td>If set, only get values of one form. This ID is in the URL at the moment of modify one form. eg. https://mydatascope.com/task_forms/XXXX/edit</td>
</tr>
<tr>
<td>user_id</td>
<td>blank</td>
<td>If set, get values of only one user</td>
</tr>
<tr>
<td>start</td>
<td>last 7 days</td>
<td>set the start date range</td>
</tr>
<tr>
<td>end</td>
<td>today</td>
<td>set the end date range (Max range is 90 days)</td>
</tr>
<tr>
<td>location_id</td>
<td>blank</td>
<td>set the answers of onlye one location</td>
</tr>
<tr>
<td>date_modified</td>
<td>false</td>
<td>Bring forms by modification date or just new ones</td>
</tr>
<tr>
<td>limit</td>
<td>200</td>
<td>Number of submission, default and max is 200</td>
</tr>
<tr>
<td>offset</td>
<td>0</td>
<td>pagination to bring next 200 submissions in some date range</td>
</tr>
</tbody></table>
<h3 id='output-parameter'>Output Parameter</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>form_code</td>
<td>String</td>
<td>Public identifier of the form answer.</td>
</tr>
<tr>
<td>form_state</td>
<td>String</td>
<td>Last status of the form answer.</td>
</tr>
<tr>
<td>form_id</td>
<td>integer</td>
<td>Internal code of the form, fixed to all answers of that form.</td>
</tr>
<tr>
<td>form_answer_id</td>
<td>Integer</td>
<td>Internal code of the form answer.</td>
</tr>
<tr>
<td>form_name</td>
<td>String</td>
<td>Name of the form.</td>
</tr>
<tr>
<td>user_name</td>
<td>String</td>
<td>Name of the user.</td>
</tr>
<tr>
<td>created_at</td>
<td>Date</td>
<td>When the form was received.</td>
</tr>
<tr>
<td>latitude</td>
<td>Float</td>
<td>Latitude where the form was answered.</td>
</tr>
<tr>
<td>longitude</td>
<td>Float</td>
<td>Longitude where the form was answered.</td>
</tr>
<tr>
<td>question_name</td>
<td>(String, Date, Number)</td>
<td>String with each question name and value.</td>
</tr>
</tbody></table>
<h2 id='get-all-answers-legacy'>Get All Answers (Legacy)</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.mydatascope.com/api/external/answers'</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="n">url</span><span class="p">,</span> <span class="p">{</span>
<span class="ss">:Authorization</span> <span class="o">=&gt;</span> <span class="s1">'b1cd93mfls9fdmfkadn23'</span><span class="p">,</span>
 <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{}</span>
<span class="p">}</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.mydatascope.com/api/external/answers"</span>
  -H <span class="s2">"Authorization: b1cd93mfls9fdmfkadn23"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this, you can check the description of each parameter below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">  
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"answers"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"question_name"</span><span class="p">:</span><span class="s2">"Client Name"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Client"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"question_value"</span><span class="p">:</span><span class="s2">"Company 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"question_type"</span><span class="p">:</span><span class="s2">"select_metadata"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subform_index"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"locations"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4234</span><span class="p">,</span><span class="w">
            </span><span class="s2">"question_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"form_code"</span><span class="p">:</span><span class="s2">"2342"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"form_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"form_id"</span><span class="p">:</span><span class="mi">34543</span><span class="p">,</span><span class="w">
            </span><span class="s2">"form_answer_id"</span><span class="p">:</span><span class="mi">432432</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"form_name"</span><span class="p">:</span><span class="s2">"Example Form"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_state"</span><span class="p">:</span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_name"</span><span class="p">:</span><span class="s2">"Example User"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"2342"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_id"</span><span class="p">:</span><span class="mi">432</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-04-16T16:52:05.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_answer_id"</span><span class="p">:</span><span class="mi">257189</span><span class="p">,</span><span class="w">
      </span><span class="s2">"latitude"</span><span class="p">:</span><span class="mf">-33.398803</span><span class="p">,</span><span class="w">
      </span><span class="s2">"longitude"</span><span class="p">:</span><span class="mf">-70.559834</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>This endpoint retrieves last answers (Limit 600)</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://www.mydatascope.com/api/external/answers</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>form_id</td>
<td>blank</td>
<td>If set, only get values of one form</td>
</tr>
<tr>
<td>user_id</td>
<td>blank</td>
<td>If set, get values of only one user</td>
</tr>
<tr>
<td>start</td>
<td>last 7 days</td>
<td>set the start date range</td>
</tr>
<tr>
<td>end</td>
<td>today</td>
<td>set the end date range</td>
</tr>
<tr>
<td>location_id</td>
<td>blank</td>
<td>set the answers of onlye one location</td>
</tr>
</tbody></table>
<h3 id='output-parameter-2'>Output Parameter</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>answers</td>
<td>Array</td>
<td>array with all the question of the specific form answer.</td>
</tr>
<tr>
<td>question_name</td>
<td>String</td>
<td>The name of the grouped question.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the specific Question.</td>
</tr>
<tr>
<td>question_type</td>
<td>String</td>
<td>Type of the question.</td>
</tr>
<tr>
<td>subform_index</td>
<td>Integer</td>
<td>If use a subform indicate the iteration inside the subform.</td>
</tr>
<tr>
<td>metadata_id</td>
<td>Integer</td>
<td>Identifier of the metadata object of the List</td>
</tr>
<tr>
<td>metadata_type</td>
<td>String</td>
<td>Identifier of the list of metadata (location, products, and more)</td>
</tr>
<tr>
<td>question_id</td>
<td>Integer</td>
<td>Internal identifier of the question.</td>
</tr>
<tr>
<td>form_code</td>
<td>String</td>
<td>Public identifier of the form answer.</td>
</tr>
<tr>
<td>form_state</td>
<td>String</td>
<td>Last status of the form answer.</td>
</tr>
<tr>
<td>form_id</td>
<td>integer</td>
<td>Internal code of the form, fixed to all answers of that form.</td>
</tr>
<tr>
<td>form_answer_id</td>
<td>Integer</td>
<td>Internal code of the form answer.</td>
</tr>
<tr>
<td>form_name</td>
<td>String</td>
<td>Name of the form.</td>
</tr>
<tr>
<td>user_name</td>
<td>String</td>
<td>Name of the user.</td>
</tr>
<tr>
<td>created_at</td>
<td>Date</td>
<td>When the form was received.</td>
</tr>
<tr>
<td>latitude</td>
<td>Float</td>
<td>Latitude where the form was answered.</td>
</tr>
<tr>
<td>longitude</td>
<td>Floar</td>
<td>Longitude where the form was answered.</td>
</tr>
</tbody></table>
<h1 id='locations'>Locations</h1><h2 id='get-all-locations'>Get All Locations</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.mydatascope.com/api/external/locations'</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="n">url</span><span class="p">,</span> <span class="p">{</span>
<span class="ss">:Authorization</span> <span class="o">=&gt;</span> <span class="s1">'b1cd93mfls9fdmfkadn23'</span><span class="p">,</span>
 <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{}</span>
<span class="p">}</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.mydatascope.com/api/external/locations"</span>
  -H <span class="s2">"Authorization: b1cd93mfls9fdmfkadn23"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this, you can check the description of each parameter below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">  
   </span><span class="p">{</span><span class="w">  
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">432432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Client ABC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Company ABC description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"534534"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"1600 Amphitheatre Parkway, Mountain View, CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"SF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latitude"</span><span class="p">:</span><span class="mf">37.395013</span><span class="p">,</span><span class="w">
    </span><span class="s2">"longitude"</span><span class="p">:</span><span class="mf">-122.084374</span><span class="p">,</span><span class="w">
    </span><span class="s2">"region"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"4324234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"company_code"</span><span class="p">:</span><span class="s2">"432432"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"company_name"</span><span class="p">:</span><span class="s2">"Client ABC S.A"</span><span class="w"> 
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>This endpoint retrieves all locations</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://www.mydatascope.com/api/external/locations</code></p>
<h3 id='output-parameter-3'>Output Parameter</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td>Internal identifier of the location</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the location</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the location</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Code of the location</td>
</tr>
<tr>
<td>address</td>
<td>Integer</td>
<td>Address of the location</td>
</tr>
<tr>
<td>city</td>
<td>Integer</td>
<td>City</td>
</tr>
<tr>
<td>country</td>
<td>String</td>
<td>Country</td>
</tr>
<tr>
<td>latitude</td>
<td>String</td>
<td>Latitude GPS Coordinates</td>
</tr>
<tr>
<td>longitude</td>
<td>integer</td>
<td>Longitude GPS Coordinates</td>
</tr>
<tr>
<td>region</td>
<td>Integer</td>
<td>Region</td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td>Phone</td>
</tr>
<tr>
<td>company_code</td>
<td>String</td>
<td>Code of the company</td>
</tr>
<tr>
<td>company_name</td>
<td>Date</td>
<td>Name of the Company</td>
</tr>
</tbody></table>

<aside class="success">
Remember — user your own header Authorization
</aside>
<h1 id='lists'>Lists</h1><h2 id='get-all-list-elements'>Get All List elements</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.mydatascope.com/api/external/metadata_objects'</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="n">url</span><span class="p">,</span> <span class="p">{</span>
<span class="ss">:Authorization</span> <span class="o">=&gt;</span> <span class="s1">'b1cd93mfls9fdmfkadn23'</span><span class="p">,</span>
 <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">metadata_type: </span><span class="s1">'products_examples'</span><span class="p">}</span>
<span class="p">}</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.mydatascope.com/api/external/metadata_objects"</span>
  -H <span class="s2">"Authorization: b1cd93mfls9fdmfkadn23"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this, you can check the description of each parameter below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">  
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">505680</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Product 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Product Description"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attribute1"</span><span class="p">:</span><span class="s2">"Atribute example 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attribute2"</span><span class="p">:</span><span class="s2">"Attribute example 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="mi">424324</span><span class="p">,</span><span class="w">
      </span><span class="s2">"account_id"</span><span class="p">:</span><span class="mi">4234234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"prod0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-12-03T17:48:47.000-02:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-12-03T17:48:47.000-02:00"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">505689</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Product 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Product Description"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attribute1"</span><span class="p">:</span><span class="s2">"Atribute example 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attribute2"</span><span class="p">:</span><span class="s2">"Attribute example 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="mi">424324</span><span class="p">,</span><span class="w">
      </span><span class="s2">"account_id"</span><span class="p">:</span><span class="mi">4234234</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"prod9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-12-03T17:48:47.000-02:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-12-03T17:48:47.000-02:00"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">


</span></code></pre>
<p>This endpoint retrieves all list items of a specific list</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://www.mydatascope.com/api/external/metadata_objects</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>metadata_type</td>
<td>blank</td>
<td>Internal code to identify the list (products, locations and more)</td>
</tr>
</tbody></table>
<h3 id='output-parameter-4'>Output Parameter</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the element of the list</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the element of the list</td>
</tr>
<tr>
<td>attribute1</td>
<td>String</td>
<td>Custom attribute of the element of the list</td>
</tr>
<tr>
<td>attribute2</td>
<td>String</td>
<td>Custom attribute of the element of the list</td>
</tr>
<tr>
<td>created_at</td>
<td>Datetime</td>
<td>Date when the list element was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>Datetime</td>
<td>Date when the list element was updated</td>
</tr>
</tbody></table>
<h2 id='get-an-element-of-the-list'>Get an element of the list</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.mydatascope.com/api/external/metadata_object'</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="n">url</span><span class="p">,</span> <span class="p">{</span>
<span class="ss">:Authorization</span> <span class="o">=&gt;</span> <span class="s1">'b1cd93mfls9fdmfkadn23'</span><span class="p">,</span>
 <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">metadata_type: </span><span class="s1">'products_examples'</span><span class="p">,</span> <span class="ss">metadata_id: </span><span class="mi">4324324</span><span class="p">}</span>
<span class="p">}</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.mydatascope.com/api/external/metadata_object"</span>
  -H <span class="s2">"Authorization: b1cd93mfls9fdmfkadn23"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this, you can check the description of each parameter below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">505680</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Product 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Product Description"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attribute1"</span><span class="p">:</span><span class="s2">"Atribute example 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attribute2"</span><span class="p">:</span><span class="s2">"Attribute example 2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_id"</span><span class="p">:</span><span class="mi">424324</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account_id"</span><span class="p">:</span><span class="mi">4234234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"prod0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-12-03T17:48:47.000-02:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-12-03T17:48:47.000-02:00"</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>
<p>This endpoint retrieves a specific element of the list</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://www.mydatascope.com/api/external/metadata_object</code></p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>metadata_type</td>
<td>blank</td>
<td>Internal code to identify the list (products, locations and more)</td>
</tr>
<tr>
<td>metadata_id</td>
<td>blank</td>
<td>Internal identifier of the element of the list</td>
</tr>
</tbody></table>
<h3 id='output-parameter-5'>Output Parameter</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the element of the list</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the element of the list</td>
</tr>
<tr>
<td>attribute1</td>
<td>String</td>
<td>Custom attribute of the element of the list</td>
</tr>
<tr>
<td>attribute2</td>
<td>String</td>
<td>Custom attribute of the element of the list</td>
</tr>
<tr>
<td>created_at</td>
<td>Datetime</td>
<td>Date when the list element was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>Datetime</td>
<td>Date when the list element was updated</td>
</tr>
</tbody></table>
<h1 id='notifications'>Notifications</h1><h2 id='list-last-notifications'>List Last notifications</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.mydatascope.com/api/external/notifications'</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="n">url</span><span class="p">,</span> <span class="p">{</span>
<span class="ss">:Authorization</span> <span class="o">=&gt;</span> <span class="s1">'b1cd93mfls9fdmfkadn23'</span><span class="p">,</span>
 <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">start: </span><span class="s1">'10/12/2019'</span><span class="p">,</span> <span class="ss">end: </span><span class="s1">'30/12/2019'</span><span class="p">}</span>
<span class="p">}</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.mydatascope.com/api/external/notifications"</span>
  -H <span class="s2">"Authorization: b1cd93mfls9fdmfkadn23"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this, you can check the description of each parameter below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">  
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2345</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"PDF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="s2">"https://www.mydatascope.com/pdf_url_example"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_name"</span><span class="p">:</span><span class="s2">"Form Name"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"form_code"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:</span><span class="s2">"user@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2019-12-03T17:48:47.000-02:00"</span><span class="w">
   </span><span class="p">}]</span><span class="w">


</span></code></pre>
<p>This endpoint retrieves all list items of a specific list</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://www.mydatascope.com/api/external/notifications</code></p>
<h3 id='query-parameters-5'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start</td>
<td>last 7 days</td>
<td>set the start date range</td>
</tr>
<tr>
<td>end</td>
<td>today</td>
<td>set the end date range</td>
</tr>
</tbody></table>
<h3 id='output-parameter-6'>Output Parameter</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Identifier of the notification</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Type of notification: PDF or Excel</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td>URL of the notified file</td>
</tr>
<tr>
<td>form_name</td>
<td>String</td>
<td>Name of the form</td>
</tr>
<tr>
<td>form_code</td>
<td>String</td>
<td>Code of the form</td>
</tr>
<tr>
<td>user</td>
<td>String</td>
<td>Name of the user</td>
</tr>
<tr>
<td>created_at</td>
<td>Datetime</td>
<td>Date when the list element was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>Datetime</td>
<td>Date when the list element was updated</td>
</tr>
</tbody></table>
<h1 id='webhooks'>Webhooks</h1>
<p>Sometimes people call webhooks reverse APIs, but perhaps more accurately a webhook lets you skip a step. With most APIs there’s a request followed by a response. No request is required for a webhook, it just sends the data when it’s available.</p>

<p>To use a webhook, you register a URL with the company providing the service. That URL is a place within your application that will accept the data and do something with it. In some cases, you can tell the provider the situations when you’d like to receive data. Whenever there’s something new, the webhook will send it to your URL.</p>

<p>DataScope Webhook notifications are sent in an HTTP POST request, and their contents (containing the response data) are in JSON format.</p>
<h2 id='configuration'>Configuration</h2>
<p>To configure the webhook you need to go to the Integrations section and then Webhooks and click on <a href="https://mydatascope.com/webhooks/new">New Webhook</a>.</p>

<p><img src="https://data-scope.s3-us-west-2.amazonaws.com/images/other/Captura+de+pantalla+2020-09-08+a+la(s)+13.23.28.png" title="New Webhook" alt="New Webhook" /></p>
<h2 id='output'>Output</h2>
<blockquote>
<p>The webhook will return a JSON with this structure:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="s2">"form_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Form Name] (String)"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Code Form ID] (String)"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[latitude] (Float)"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[longitude] (Float)"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"[question_name][question_id]"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Question name] (String)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Section Name] (String)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"row"</span><span class="w"> </span><span class="s2">"[Nº repeatable field] (Integer) Default: null"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Value of the answer] (String)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Type of question]*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Internal ID of the question] (Integer)"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<aside class="notice">
TIP: It will only start sending information for the new forms done after the integration. 
</aside>
<h1 id='errors'>Errors</h1>
<p>The DataScope API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The DataScope requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified request could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too much! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
